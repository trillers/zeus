<cvs-item>
    <li>
        <span class="col-md-2 formItem">{customer}</span>
        <span class="col-md-2 formItem">{cs}</span>
        <span class="col-md-2 formItem">{date}</span>
        <span class="col-md-2 formItem">{time}</span>
        <!--<span class="col-md-2">5s</span>-->
        <a class="col-md-2 formItem" onclick="{showMessages}" style="cursor: pointer">查看</a>
    </li>
    <br>
    <br>
    <style>
        .formItem{width: 20%}
    </style>
    <script>
        var self = this;
        var item = self.opts.curritem;
        self.customer = item.initiator ? (item.initiator.wx_nickname.length < 6 ? item.initiator.wx_nickname : item.initiator.wx_nickname.slice(0, 5) + '...') : '空';
        self.cs = item.csId ? (item.csId.wx_nickname.length < 6 ? item.csId.wx_nickname : item.csId.wx_nickname.slice(0, 5) + '...') : '空';
        var createTime = new Date(item.createTime);
        var year = createTime.getFullYear();
        var month = createTime.getMonth() + 1;
        var day = createTime.getDate();
        self.date =  year + '-' + month + '-' + day;
        self.time = createTime.getHours() + ':' + createTime.getMinutes();
        showMessages(e){
            e.preventUpdate = true;
            riot.route('cvs/_' + item._id);
        }
    </script>
</cvs-item>